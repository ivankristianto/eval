---
import Icon from './Icon.astro';
import { cn } from '../../lib/component-classes';

/**
 * Alert component for displaying contextual notifications
 *
 * @example
 * <Alert variant="success" title="Operation completed">
 *   Your evaluation has been saved successfully.
 * </Alert>
 *
 * @param variant - Visual style of the alert (default: 'info')
 * @param title - Optional heading text displayed in bold
 * @param class - Additional CSS classes to apply
 */
export interface Props {
  variant?: 'info' | 'success' | 'warning' | 'error';
  class?: string;
  title?: string;
}

const { variant = 'info', class: className, title } = Astro.props;

const variantClasses = {
  info: 'alert-info',
  success: 'alert-success',
  warning: 'alert-warning',
  error: 'alert-error',
};
---

<div role="alert" class={cn('alert', variantClasses[variant], className)}>
  <Icon name={variant} size="lg" />
  <div>
    {title && <h3 class="font-bold">{title}</h3>}
    <div class="text-xs">
      <slot />
    </div>
  </div>
</div>
