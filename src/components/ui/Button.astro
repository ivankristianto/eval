---
/**
 * Button component for actions and navigation
 *
 * @example
 * <Button variant="primary" size="md">Click me</Button>
 * <Button href="/path" variant="accent">Link button</Button>
 *
 * @param variant - Visual style of the button (default: 'neutral')
 * @param size - Size of the button (default: 'md')
 * @param outline - Whether to use outline style (default: false)
 * @param type - Button type when rendered as <button> (default: 'button')
 * @param class - Additional CSS classes to apply
 * @param href - When provided, renders as <a> instead of <button>
 * @param disabled - Disables the button (default: false)
 * @param id - HTML id attribute
 */
export interface Props {
  variant?:
    | 'primary'
    | 'secondary'
    | 'accent'
    | 'ghost'
    | 'link'
    | 'info'
    | 'success'
    | 'warning'
    | 'error'
    | 'neutral';
  size?: 'lg' | 'md' | 'sm' | 'xs';
  outline?: boolean;
  type?: 'button' | 'submit' | 'reset';
  class?: string;
  href?: string;
  disabled?: boolean;
  id?: string;
}

const {
  variant = 'neutral',
  size = 'md',
  outline = false,
  type = 'button',
  class: className = '',
  href,
  disabled = false,
  id,
  ...rest
} = Astro.props;

const luxeVariants = variant === 'primary';
const classes = [
  'btn',
  luxeVariants ? 'btn-luxe btn-luxe-primary' : `btn-${variant}`,
  `btn-${size}`,
  outline ? 'btn-outline' : '',
  className,
]
  .filter(Boolean)
  .join(' ');
---

{
  href ? (
    <a href={href} class={classes} id={id} {...rest}>
      <slot />
    </a>
  ) : (
    <button type={type} class={classes} disabled={disabled} id={id} {...rest}>
      <slot />
    </button>
  )
}
